---
// src/pages/user.astro
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
---

<Layout title="FORGOR - User Profile">
    <div class="flex flex-col min-h-screen">
        <header class="flex items-center justify-between p-4 bg-purple-800 gap-x-3">
            <a href="/" class="flex items-center">
                <img src="/icons/favicon.png" alt="FORGOR Icon" class="h-10 w-12"/>
            </a>
            
            <a href="/app" class="inline-flex items-center text-neonGreen hover:underline">
                Back to Search
            </a>
        </header>

        <main class="flex-grow p-8 text-white bg-purple">
            <div class="flex h-full items-center justify-center">
                {/* Left Side: User Info */}
                <section class="w-1/2 text-center bg-purple p-8">
                    <h1 class="text-white text-4xl sm:text-5xl font-display mb-2">Welcome, <span id="username">User</span>!</h1>
                    <p class="text-white text-lg leading-relaxed mb-6">
                        This is your personalized profile dashboard.
                    </p>
                    <form id="usernameForm" class="space-y-4">
                        <div>
                            <label for="newUsername" class="block text-gray-300 text-sm font-bold mb-2">New Username:</label>
                            <input
                                type="text"
                                id="newUsername"
                                placeholder="Enter new username"
                                class="w-2xl py-2 px-4 bg-neonGreen text-brightPurple placeholder-brightPurple-200 uppercase focus:outline-none focus:ring-2 focus:ring-neonGreen"
                            />
                        </div>
                        <button type="submit" class="bg-neonGreen text-purple-900 font-bold py-2 px-5 hover:opacity-90">Update Username</button>
                        <button id="bulk-download-button" class="bg-blue-600 text-white font-bold py-2 px-5 hover:opacity-90 ml-4">Download All</button>
                        <button id="logout-button"class="bg-red-600 text-white font-bold py-2 px-5 hover:opacity-90 ml-4">Log Out</button>
                    </form>
                </section>

                {/* Right Side: Tier Info and Upgrade */}
                <section class="w-1/2 text-center bg-darkPurple p-8 border-l border-purple-600 flex items-center justify-center">
                    <div class="w-full max-w-2xl">
                        <h1 class="text-white text-4xl sm:text-5xl font-display mb-2">Upgrade</h1>
                        <h1 class="text-white text-4xl font-display leading-relaxed mt-6">
                            Saves Left: <span id="saves-left">10</span>
                        </h1>
                        <div class="flex justify-center">
                            {/* Basic Tier */}
                            <div class="w-1/2 p-4 flex flex-col">
                                <h3 class="text-2xl font-bold mb-2 bg-neonGreen text-purple-900 rounded-t-md py-2">Basic</h3>
                                <ul class="text-white text-lg leading-relaxed mb-4">
                                    <li>Feature 1</li>
                                    <li>Feature 2</li>
                                    <li>Feature 3</li>
                                </ul>
                                <button class="bg-gray-600 text-white font-bold py-2 px-5 rounded-b-md hover:opacity-90 w-full flex-grow" disabled>Current</button>
                            </div>

                            {/* Pro Tier */}
                            <div class="w-1/2 p-4 flex flex-col">
                                <h3 class="text-2xl font-bold mb-2 bg-neonGreen text-purple-900 rounded-t-md py-2">Pro</h3>
                                <ul class="text-white text-lg leading-relaxed mb-4">
                                    <li>Feature 1</li>
                                    <li>Feature 2</li>
                                    <li>Feature 3</li>
                                </ul>
                                <button class="bg-neonGreen text-purple-900 font-bold py-2 px-5 rounded-b-md hover:opacity-90 w-full flex-grow">Upgrade</button>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
        
        <Footer />

        {/* Client-side script for user page logic */}
        <script type="module" src="../js/user.js"></script>
    </div>
</Layout>